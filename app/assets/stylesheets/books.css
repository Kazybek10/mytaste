/*
 * Стили для страницы списка книг (index.html.erb).
 * Этот файл реализует современный адаптивный макет сетки (CSS Grid) для всего списка,
 * а внутри каждой карточки используется горизонтальное расположение (Flexbox).
*/

/* --- Top Navigation and Search --- */

.top-actions {
  /* Соответствует элементу: <nav class="top-actions">.
   * Назначение: Контейнер для кнопок навигации ("Back to Home", "New Book"). */
  /* Устанавливает горизонтальное расположение элементов навигации (кнопок) */
  display: flex;
  /* Добавляет 15px пространства между кнопками */
  gap: 15px;
  /* Добавляет отступ снизу, чтобы отделить кнопки от формы поиска */
  margin-bottom: 20px;
}

.top-actions a {
  /* Соответствует элементу: a (линки внутри навигации).
   * Назначение: Стилизация линков "Home" и "New Book" как обычных ссылок (убираем вид кнопки). */
  color: #1a1a1a; /* Черный цвет текста */
  text-decoration: none; /* Убрать подчеркивание */
  padding: 0; /* Убрать отступы (убрать прямоугольник кнопки) */
  background-color: transparent; /* Убрать фон кнопки */
  border: none; /* Убрать рамку кнопки */
  font-weight: 600; /* Делаем текст более заметным */
  transition: color 0.2s ease;
}

.top-actions a:hover {
  color: #FFD700; /* Золотой цвет при наведении */
  text-decoration: none; /* Подчеркивание при наведении для лучшего UX */
}

.search-and-form {
  /* Соответствует элементу: <div class="search-and-form">.
   * Назначение: Общий контейнер для формы поиска. */
  /* Добавляет отступ снизу, чтобы отделить форму поиска от основной сетки книг */
  margin-bottom: 30px;
}

.search-form {
  /* Соответствует элементу: form_with (контейнер для поиска).
   * Назначение: Определяет горизонтальное расположение поля ввода и кнопки "Search". */
  /* Устанавливает горизонтальное расположение поля ввода и кнопки поиска */
  display: flex;
  /* Добавляет 10px пространства между полем ввода и кнопкой */
  gap: 10px;
  /* Ограничивает максимальную ширину формы, чтобы она не растягивалась на весь экран */
  max-width: 500px;
}

.search-input {
  /* Соответствует элементу: text_field_tag (Поле ввода для запроса).
   * Назначение: Само поле ввода текста для поиска. */
  /* Позволяет полю ввода занимать все доступное пространство в контейнере Flexbox */
  flex-grow: 1;
  /* Внутренние отступы, граница и закругление углов для поля ввода */
  padding: 10px;
  border: 1px solid #ccc;
  border-radius: 6px;
  font-size: 1rem;
  /* Добавляем плавный переход для границы */
  transition: border-color 0.3s ease, box-shadow 0.3s ease;
}

.search-input:focus {
  /* ИЗМЕНЕНИЕ: Изменение цвета границы при фокусе */
  outline: none; 
  border-color: #FFD700; /* Золотая граница */
  box-shadow: 0 0 0 2px rgba(255, 215, 0, 0.5); /* Легкая золотая тень для акцента */
}

.search-button {
  /* Соответствует элементу: submit_tag (Кнопка "Search").
   * Назначение: Кнопка отправки формы. */
  /* Гарантирует, что кнопка не будет сжиматься, если не хватает места */
  flex-shrink: 0;
  /* ИЗМЕНЕНИЕ: Убираем кнопку поиска, так как отправка будет по Enter */
  display: none;
}

/* --- Grid Container --- */

.book-grid {
  /* Соответствует элементу: <div class="book-grid">.
   * Назначение: Главный контейнер. Использует CSS Grid для расположения карточек в адаптивные колонки. */
  /* Активирует макет CSS Grid для адаптивного расположения карточек */
  display: grid;
  /* * Определяет адаптивные колонки: 
   * auto-fill: создает столько колонок, сколько поместится.
   * minmax(300px, 1fr): каждая колонка имеет минимальную ширину 300px и равномерно 
   * распределяет оставшееся пространство (1fr). 
  */
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  /* Промежутки (отступы) между карточками по горизонтали и вертикали */
  gap: 20px; 
  padding: 0; 
}

/* --- Book Card (Horizontal Layout) --- */

.book-card {
  /* Соответствует элементу: <div class="book-card">.
   * Назначение: Отдельная карточка книги. Использует Flexbox для горизонтального расположения обложки и текста. */
  /* Задает фон, скругление углов и обрезает содержимое, которое может выходить за границы */
  background-color: #ffffff;
  border-radius: 8px;
  overflow: hidden;
  /* Добавляет легкую тень для эффекта "подъема" */
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.08); 
  /* Обеспечивает плавность анимации при наведении */
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  text-align: left; 
  color: #333;
  border: 1px solid #f0f0f0; 
  
  /* ОСНОВНОЕ ИЗМЕНЕНИЕ: Устанавливает Flexbox для горизонтального расположения обложки и информации */
  display: flex;
  /* Указывает, что элементы должны располагаться в строку */
  flex-direction: row; 
}

.book-card:hover {
  /* Слегка приподнимает карточку на 2px для интерактивного эффекта */
  transform: translateY(-2px); 
  /* Увеличивает тень при наведении */
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); 
}

.book-cover-container {
  /* Соответствует элементу: <div class="book-cover-container">.
   * Назначение: Контейнер для обложки. Задает фиксированную ширину (120px) для картинки книги. */
  /* Гарантирует, что контейнер обложки не будет сжиматься */
  flex-shrink: 0; 
  /* Фиксирует ширину контейнера обложки */
  width: 120px; 
}

.book-cover {
  /* Соответствует элементу: image_tag (Обложка книги).
   * Назначение: Само изображение внутри контейнера. */
  /* Изображение занимает всю ширину контейнера */
  width: 100%;
  /* Фиксирует высоту изображения (соотношение 1:1.5) */
  height: 180px; 
  /* Гарантирует, что изображение заполнит контейнер, обрезая лишнее */
  object-fit: cover;
  display: block;
}

.book-cover-placeholder {
  /* Соответствует элементу: <div class="book-cover-placeholder">.
   * Назначение: Заглушка, отображаемая при отсутствии изображения обложки. */
  /* Задает те же размеры, что и обложка, для выравнивания */
  width: 120px;
  height: 180px;
  background-color: #f5f5f5;
  /* Использует Flexbox для центрирования текста-заглушки */
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
}

.book-cover-placeholder .placeholder-text {
  /* Стилизация текста-заглушки */
  color: #a0a0a0;
  font-size: 0.9rem;
  padding: 5px;
  text-align: center;
}

.book-info {
  /* Соответствует элементу: <div class="book-info">.
   * Назначение: Информационный блок. Содержит все текстовые детали (заголовок, автор, жанр). Расположен справа от обложки. */
  /* Внутренние отступы для информационного блока */
  padding: 15px;
  /* Позволяет блоку занимать все оставшееся горизонтальное пространство */
  flex-grow: 1; 
  /* Устанавливает Flexbox для вертикального расположения содержимого внутри (заголовок, автор, действия) */
  display: flex;
  flex-direction: column;
  /* Распределяет пространство между элементами внутри (если их несколько по вертикали) */
  justify-content: space-between;
  /* Гарантирует, что карточка сохраняет минимальную высоту обложки */
  min-height: 180px; 
}

.book-info h3 {
  /* Сброс отступов и стилизация заголовка */
  margin: 0 0 5px 0;
  font-size: 1.1rem; 
  line-height: 1.3;
  font-weight: 600;
}

.book-title-link {
  /* Соответствует элементу: link_to (Название книги как ссылка).
   * Назначение: Стилизация названия книги. */
  /* Стилизация ссылки: цвет и убрать подчеркивание */
  color: #1a1a1a;
  text-decoration: none; 
  transition: color 0.2s ease;
}

.book-title-link:hover {
  /* Изменение цвета и добавление подчеркивания при наведении */
  color: gold; 
  text-decoration: none;
}

.book-info p {
  /* Сброс отступов и стилизация текста метаданных (автор, жанр, год) */
  margin: 0 0 5px 0;
  color: #666;
  font-size: 0.85rem; 
}

/* --- Pagination --- */

.pagination-container {
  /* Соответствует элементу: <div class="pagination-container">.
   * Назначение: Контейнер для ссылок пагинации Pagy. */
  /* Центрирует блок пагинации */
  text-align: center;
  /* Отступы сверху и снизу */
  padding: 30px 0;
}
